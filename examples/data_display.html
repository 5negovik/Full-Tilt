<!DOCTYPE html>
<html>
<head>
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

			<title>FULLTILT vs Raw DeviceOrientation Event Data Display</title>

			<script src="../fulltilt.min.js" type="text/javascript"></script>

			<style>
			* {
				font-family: Arial, Helvetica, sans-serif;
			}

			.dataGroup {
				border: 1px dashed #000;
				padding: 10px;
				margin: 20px;
			}

			table {
				margin-bottom: 20px;
			}

			tr {
				padding: 5px;
			}

			th, td {
				text-align: left;
				padding: 8px;
			}

			table tbody th {
				width: 300px;
				background-color: #EEE;
			}

			table tbody td {
				width: 100px;
				background-color: lightyellow;
			}
			</style>
</head>

<body>

<h1>FULLTILT vs Raw DeviceOrientation Event Data Display</h1>

<script>

function printDataValue(input) {
	if( input === undefined )
		return "undefined";
	if( input === null )
		return "null";
	if( input === true )
		return "true";
	if( input === false )
		return "false";
	if( Object.prototype.toString.call(input) === "[object Number]" )
		return Math.round((input + 0.00001) * 100) / 100; // return to 2 decimal places

	return (input + ""); // force stringify
}

function init() {

	var alpha = document.getElementById("alpha");
	var beta = document.getElementById("beta");
	var gamma = document.getElementById("gamma");

	var screenAlpha = document.getElementById("screenAlpha");
	var screenBeta = document.getElementById("screenBeta");
	var screenGamma = document.getElementById("screenGamma");

	var absolute = document.getElementById("absolute");

	var webkitCompassHeading = document.getElementById("webkitCompassHeading");
	var webkitCompassAccuracy = document.getElementById("webkitCompassAccuracy");

	// Start FULLTILT DeviceOrientation listeners and register our callback
	FULLTILT.DeviceOrientation.start(function() {

		// Display calculated screen-adjusted normalized deviceorientation

		var screenAdjustedEvent = FULLTILT.DeviceOrientation.getDeviceEuler();

		screenAlpha.textContent = printDataValue(screenAdjustedEvent.alpha);
		screenBeta.textContent = printDataValue(screenAdjustedEvent.beta);
		screenGamma.textContent = printDataValue(screenAdjustedEvent.gamma);

		// Display raw deviceorientation data

		var rawEvent = FULLTILT.DeviceOrientation.getRawDeviceOrientationData();

		alpha.textContent = printDataValue(rawEvent.alpha);
		beta.textContent = printDataValue(rawEvent.beta);
		gamma.textContent = printDataValue(rawEvent.gamma);

		absolute.textContent = printDataValue(rawEvent.absolute);

		webkitCompassHeading.textContent = printDataValue(rawEvent.webkitCompassHeading);
		webkitCompassAccuracy.textContent = printDataValue(rawEvent.webkitCompassAccuracy);

	});

}

window.onload = init;

</script>

<h3>Screen-Adjusted DeviceOrientation</h3>

<div class="dataGroup">

	<table>
		<thead>
			<tr>
				<th>.alpha</th>
				<th>.beta</th>
				<th>.gamma</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td id="screenAlpha">-</td>
				<td id="screenBeta">-</td>
				<td id="screenGamma">-</td>
			</tr>
		</tbody>
	</table>

</div>

<h3>Raw DeviceOrientation</h3>

<p>
	<a href="http://w3c.github.io/deviceorientation/spec-source-orientation.html#deviceorientation">Spec Interface Reference</a>
</p>

<div class="dataGroup">

	<table>
		<thead>
			<tr>
				<th>.alpha</th>
				<th>.beta</th>
				<th>.gamma</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td id="alpha">-</td>
				<td id="beta">-</td>
				<td id="gamma">-</td>
			</tr>
		</tbody>
	</table>

	<table>
		<thead>
			<tr>
				<th>.absolute</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td id="absolute">-</td>
			</tr>
		</tbody>
	</table>

	<h4>Non-standard properties</h4>

	<table>
		<thead>
			<tr>
				<th>.webkitCompassHeading</th>
				<th>.webkitCompassAccuracy</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td id="webkitCompassHeading">-</td>
				<td id="webkitCompassAccuracy">-</td>
			</tr>
		</tbody>
	</table>

</div>

<p><em>Data values, where provided, are rounded to two decimal places for readability.</em></p>

</body>
</html>